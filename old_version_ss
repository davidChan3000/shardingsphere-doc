commit 499e8870402c39cfd2a1e31decdd0f737c538ed5
Author: Raigor <raigor.jiang@gmail.com>
Date:   Wed Apr 10 17:13:31 2024 +0800

    Fix doc of export & import database configuration (#30828)
    
    * Fix doc of export & import database configuration
    
    * Fix LoadSingleTableExecutorTest
    
    * Fix ImportDatabaseConfigurationExecutorTest
    
    * Fix ImportMetaDataExecutorTest
    
    * Remove useless test yaml

diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/export-database-configuration.cn.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/export-database-configuration.cn.md
index 04e839009a2..84f5dc5e851 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/export-database-configuration.cn.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/export-database-configuration.cn.md
@@ -1,11 +1,11 @@
 +++
 title = "EXPORT DATABASE CONFIGURATION"
-weight = 12
+weight = 13
 +++
 
 ### 描述
 
-`EXPORT DATABASE CONFIGURATION` 语法用于将 `database` 中的存储单元和规则配置导出为 `YAML` 格式。
+`EXPORT DATABASE CONFIGURATION` 语法用于将逻辑库中的存储单元和规则配置导出为 `YAML` 格式。
 
 ### 语法
 
@@ -29,26 +29,16 @@ filePath ::=
 
 ### 补充说明
 
-- 未指定 `databaseName` 时，默认是当前使用的 `DATABASE。` 如果也未使用 `DATABASE` 则会提示 `No database selected`。
-
-- 未指定 `filePath` 时，会将存储单元和规则配置导出至屏幕。
+- 未指定 `databaseName` 时，导出当前使用的逻辑库；如果也未使用逻辑库则提示 `No database selected`；
+- 未指定 `filePath` 时，会将导出的信息通过结果集输出；
+- 指定 `filePath` 时，会自动创建文件，若文件已存在，会被覆盖。
 
 ### 示例
 
-- 导出指定逻辑库的存储单元和规则配置到指定路径
-
-```sql
-EXPORT DATABASE CONFIGURATION FROM sharding_db TO FILE "/xxx/config_sharding_db.yaml";
-```
-
-- 导出指定逻辑库的存储单元和规则配置到屏幕
+- 导出当前逻辑库的配置信息
 
 ```sql
-EXPORT DATABASE CONFIGURATION FROM sharding_db;
-```
-
-```sql
-mysql> EXPORT DATABASE CONFIGURATION FROM sharding_db;
+mysql> EXPORT DATABASE CONFIGURATION;
 +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 | result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
 +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
@@ -56,7 +46,7 @@ mysql> EXPORT DATABASE CONFIGURATION FROM sharding_db;
 dataSources:
   ds_1:
     password: 123456
-    url: jdbc:mysql://127.0.0.1:3306/migration_ds_0
+    url: jdbc:mysql://127.0.0.1:3306/db0
     username: root
     minPoolSize: 1
     connectionTimeoutMilliseconds: 30000
@@ -77,53 +67,21 @@ dataSources:
 rules:
  |
 +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-1 row in set (0.00 sec)
-```
-
-- 导出当前逻辑库的存储单元和规则配置到指定路径
-
-```sql
-EXPORT DATABASE CONFIGURATION TO FILE "/xxx/config_sharding_db.yaml";
+1 row in set (0.01 sec)
 ```
 
-- 导出当前逻辑库的存储单元和规则配置到屏幕
+- 导出指定逻辑库的配置信息，并输出到文件
 
 ```sql
-EXPORT DATABASE CONFIGURATION;
+mysql> EXPORT DATABASE CONFIGURATION FROM sharding_db TO FILE '/xxx/config_sharding_db.yaml';
++-------------------------------------------------------------------------+
+| result                                                                  |
++-------------------------------------------------------------------------+
+| Successfully exported to: '/xxx/config_sharding_db.yaml'  |
++-------------------------------------------------------------------------+
+1 row in set (0.02 sec)
 ```
 
-```sql
-mysql> EXPORT DATABASE CONFIGURATION;
-+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-| result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
-+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-| databaseName: sharding_db
-dataSources:
-  ds_1:
-    password: 123456
-    url: jdbc:mysql://127.0.0.1:3306/migration_ds_0
-    username: root
-    minPoolSize: 1
-    connectionTimeoutMilliseconds: 30000
-    maxLifetimeMilliseconds: 2100000
-    readOnly: false
-    idleTimeoutMilliseconds: 60000
-    maxPoolSize: 50
-  ds_2:
-    password: 123456
-    url: jdbc:mysql://127.0.0.1:3306/db1
-    username: root
-    minPoolSize: 1
-    connectionTimeoutMilliseconds: 30000
-    maxLifetimeMilliseconds: 2100000
-    readOnly: false
-    idleTimeoutMilliseconds: 60000
-    maxPoolSize: 50
-rules:
- |
-+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-1 row in set (0.00 sec)
-```
 ### 保留字
 
 `EXPORT`、`DATABASE`、`CONFIGURATION`、`FROM`、`TO`、`FILE`
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/export-database-configuration.en.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/export-database-configuration.en.md
index e6a8a24ba7b..9d9ca48671b 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/export-database-configuration.en.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/export-database-configuration.en.md
@@ -1,6 +1,6 @@
 +++
 title = "EXPORT DATABASE CONFIGURATION"
-weight = 12
+weight = 13
 +++
 
 ### Description
@@ -29,25 +29,16 @@ filePath ::=
 
 ### Supplement
 
-- When `databaseName` is not specified, the default is the currently used `DATABASE`. If `DATABASE` is not used, `No database selected` will be prompted.
+- When `databaseName` is not specified, the currently used logical database will be exported; if no database is used, `No database selected` will be prompted;
+- When `filePath` is not specified, the exported information will be output through the result set;
+- When `filePath` is specified, the file will be automatically created. If the file already exists, it will be overwritten.
 
-- When `filePath` is not specified, the storage units and rule configurations will export to screen.
 ### Example
 
-- Export storage units and rule configurations from specified database to specified file path
+- Export currently used logical database
 
 ```sql
-EXPORT DATABASE CONFIGURATION FROM sharding_db TO FILE "/xxx/config_sharding_db.yaml";
-```
-
-- Export storage units and rule configurations from specified database to screen
-
-```sql
-EXPORT DATABASE CONFIGURATION FROM sharding_db;
-```
-
-```sql
-mysql> EXPORT DATABASE CONFIGURATION FROM sharding_db;
+mysql> EXPORT DATABASE CONFIGURATION;
 +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
 | result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
 +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
@@ -55,7 +46,7 @@ mysql> EXPORT DATABASE CONFIGURATION FROM sharding_db;
 dataSources:
   ds_1:
     password: 123456
-    url: jdbc:mysql://127.0.0.1:3306/migration_ds_0
+    url: jdbc:mysql://127.0.0.1:3306/db0
     username: root
     minPoolSize: 1
     connectionTimeoutMilliseconds: 30000
@@ -76,52 +67,19 @@ dataSources:
 rules:
  |
 +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-1 row in set (0.00 sec)
-```
-
-- Export storage units and rule configurations from current database to specified file path
-
-```sql
-EXPORT DATABASE CONFIGURATION TO FILE "/xxx/config_sharding_db.yaml";
+1 row in set (0.01 sec)
 ```
 
-- Export storage units and rule configurations from current database to screen
-
-```sql
-EXPORT DATABASE CONFIGURATION;
-```
+- Export the specified logical database and output it to file
 
 ```sql
-mysql> EXPORT DATABASE CONFIGURATION;
-+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-| result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
-+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-| databaseName: sharding_db
-dataSources:
-  ds_1:
-    password: 123456
-    url: jdbc:mysql://127.0.0.1:3306/migration_ds_0
-    username: root
-    minPoolSize: 1
-    connectionTimeoutMilliseconds: 30000
-    maxLifetimeMilliseconds: 2100000
-    readOnly: false
-    idleTimeoutMilliseconds: 60000
-    maxPoolSize: 50
-  ds_2:
-    password: 123456
-    url: jdbc:mysql://127.0.0.1:3306/db1
-    username: root
-    minPoolSize: 1
-    connectionTimeoutMilliseconds: 30000
-    maxLifetimeMilliseconds: 2100000
-    readOnly: false
-    idleTimeoutMilliseconds: 60000
-    maxPoolSize: 50
-rules:
- |
-+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-1 row in set (0.00 sec)
+mysql> EXPORT DATABASE CONFIGURATION FROM sharding_db TO FILE '/xxx/config_sharding_db.yaml';
++-------------------------------------------------------------------------+
+| result                                                                  |
++-------------------------------------------------------------------------+
+| Successfully exported to: '/xxx/config_sharding_db.yaml'  |
++-------------------------------------------------------------------------+
+1 row in set (0.02 sec)
 ```
 
 ### Reserved word
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/import-database-configuration.cn.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/import-database-configuration.cn.md
index 4891cd59bd9..22716545d49 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/import-database-configuration.cn.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/import-database-configuration.cn.md
@@ -1,11 +1,11 @@
 +++
 title = "IMPORT DATABASE CONFIGURATION"
-weight = 13
+weight = 14
 +++
 
 ### 描述
 
-`IMPORT DATABASE CONFIGURATION` 语法用于将 `YAML` 中的配置导入到指定逻辑库中。
+`IMPORT DATABASE CONFIGURATION` 语法用于从 `YAML` 中的配置导入逻辑库。
 
 ### 语法
 
@@ -26,20 +26,12 @@ filePath ::=
 
 ### 补充说明
 
-- 未指定 `databaseName` 时，默认是当前使用的 `DATABASE` 如果也未使用 `DATABASE` 则会提示 `No database selected`。
-
-- `IMPORT DATABASE CONFIGURATION` 语法仅支持对空逻辑库进行导入操作。
+- 当元数据中已存在同名逻辑库时，无法导入；
+- 当 YAML 中 `databaseName` 为空时，无法导入；
+- 当 YAML 中 `dataSources` 为空时，只导入空的逻辑库。
 
 ### 示例
 
-- 将 `YAML` 中的配置导入到指定逻辑库中
-
-```sql
-IMPORT DATABASE CONFIGURATION FROM FILE "/xxx/config_sharding_db.yaml";
-```
-
-- 将 `YAML` 中的配置导入到当前逻辑库中
-
 ```sql
 IMPORT DATABASE CONFIGURATION FROM FILE "/xxx/config_sharding_db.yaml";
 ```
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/import-database-configuration.en.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/import-database-configuration.en.md
index 985b53d8790..57c4da33f70 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/import-database-configuration.en.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/import-database-configuration.en.md
@@ -1,11 +1,11 @@
 +++
 title = "IMPORT DATABASE CONFIGURATION"
-weight = 13
+weight = 14
 +++
 
 ### Description
 
-The `IMPORT DATABASE CONFIGURATION` syntax is used to import `YAML` configuration to specified database.
+The `IMPORT DATABASE CONFIGURATION` syntax is used to import a database from the configuration in `YAML`.
 
 ### Syntax
 
@@ -26,20 +26,12 @@ filePath ::=
 
 ### Supplement
 
-- When `databaseName` is not specified, the default is the currently used `DATABASE`. If `DATABASE` is not used, `No database selected` will be prompted.
-
-- The `IMPORT DATABASE CONFIGURATION` syntax only supports import operations on empty database.
+- When a database with the same name already exists in the metadata, it cannot be imported;
+- When `databaseName` in YAML is empty, it cannot be imported;
+- When `dataSources` in YAML is empty, only empty database will be imported.
 
 ### Example
 
-- Import the configuration in `YAML` into the specified database
-
-```sql
-IMPORT DATABASE CONFIGURATION FROM FILE "/xxx/config_sharding_db.yaml";
-```
-
-- Import the configuration in `YAML` into the current database
-
 ```sql
 IMPORT DATABASE CONFIGURATION FROM FILE "/xxx/config_sharding_db.yaml";
 ```
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/show-rules-used-storage-unit.cn.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/show-rules-used-storage-unit.cn.md
index 70c71a0b8bd..90927948332 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/show-rules-used-storage-unit.cn.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/show-rules-used-storage-unit.cn.md
@@ -1,6 +1,6 @@
 +++
 title = "SHOW RULES USED STORAGE UNIT"
-weight = 14
+weight = 12
 +++
 
 ### 描述
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/show-rules-used-storage-unit.en.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/show-rules-used-storage-unit.en.md
index 5ffe8b2c074..5e577881eb2 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/show-rules-used-storage-unit.en.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/ral/show-rules-used-storage-unit.en.md
@@ -1,6 +1,6 @@
 +++
 title = "SHOW RULES USED STORAGE UNIT"
-weight = 14
+weight = 12
 +++
 
 ### Description
